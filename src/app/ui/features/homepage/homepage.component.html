<app-animated-background></app-animated-background>
<h1 id="homepage__title">World Flags</h1>

<div id="homepage__buttons">
    <app-button id="homepage__buttons__play" buttonText="Jouer" fontSize="2rem"
        (click)="checkIfLoggedIn()">Jouer</app-button>
    <app-button id="homepage__buttons__training" buttonText="Entrainement" fontSize="2rem">Entrainement</app-button>
    <app-button id="homepage__buttons__ranking" buttonText="Classement" fontSize="2rem">Classement</app-button>
    <app-button id="homepage__buttons__rules" buttonText="Règles" fontSize="2rem">Règles</app-button>
    @if(!isLoggedIn) {
    <app-button id="homepage__buttons__login" buttonText="Connexion" mainColor="white" secondaryColor="orange"
        fontSize="2rem" (click)="navigateToLogin()">Connexion</app-button>
    }
    @else {
    <app-button id="homepage__buttons__logout" buttonText="Déconnexion" mainColor="white" secondaryColor="orange"
        fontSize="2rem" (click)="logout()">Déconnexion</app-button>
    }
</div>

@if (modalService.isModalOpen()) {
<app-not-logged-modal></app-not-logged-modal>
}

@if(shouldDisplayUsernameModal()) {
<div class="username-modal">
    <form class="username-modal__form" [formGroup]="usernameForm">
        <h2 class="username-modal__title">Bienvenue sur World Flags</h2>
        <p class="username-modal__text">Il s'agit de votre première connexion, veuillez entrer un nom d'utilisateur</p>
        <input class="username-modal__form__input" type="text" formControlName="username"
            placeholder="saisissez votre nom d'utilisateur" />
        <app-button class="username-modal__form__button" buttonText="valider" mainColor="white" secondaryColor="orange"
            fontSize="1.25rem" width="100%" (click)="createUser()"></app-button>
    </form>
</div>
}